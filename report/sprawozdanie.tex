%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% fphw Assignment
% LaTeX Template
% Version 1.0 (27/04/2019)
%
% This template originates from:
% https://www.LaTeXTemplates.com
%
% Authors:
% Class by Felipe Portales-Oliva (f.portales.oliva@gmail.com) with template
% content and modifications by Vel (vel@LaTeXTemplates.com)
%
% Template (this file) License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[
	12pt, % Default font size, values between 10pt-12pt are allowed
	%letterpaper, % Uncomment for US letter paper size
	%spanish, % Uncomment for Spanish
]{fphw}

% Template-specific packages
\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters
\usepackage{mathpazo} % Use the Palatino font

\usepackage{graphicx} % Required for including images

\usepackage{booktabs} % Required for better horizontal rules in tables

\usepackage{listings} % Required for insertion of code

\usepackage{enumerate} % To modify the enumerate environment
\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{subcaption}
\usepackage[justification=centering]{caption}
\usepackage{float}
\usepackage{xcolor}
\usepackage{polski}
\usepackage[polish]{babel}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
backgroundcolor=\color{backcolour},
commentstyle=\color{codegreen},
keywordstyle=\color{magenta},
numberstyle=\tiny\color{codegray},
stringstyle=\color{codepurple},
basicstyle=\ttfamily\footnotesize,
breakatwhitespace=false,
breaklines=true,
captionpos=b,
keepspaces=true,
numbers=left,
numbersep=5pt,
showspaces=false,
showstringspaces=false,
showtabs=false,
tabsize=2
}

\lstset{style=mystyle}

%----------------------------------------------------------------------------------------
%	ASSIGNMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Symulator chłodzenia pręta w oleju chłodzącym} % Assignment title

\author{Monika Nawój} % Student name

\date{14.11.2020} % Due date

\institute{Politechnika Warszawska \\ Wydział Elektryczny} % Institute or school name

\class{Metody Numeryczne 2020Z} % Course or class name

\professor{Rober Szmurło} % Professor or teacher in charge of the assignment

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Output the assignment title, created automatically using the information in the custom commands above

%----------------------------------------------------------------------------------------
%	ASSIGNMENT CONTENT
%----------------------------------------------------------------------------------------

\section{Wstęp}
Celem projektu zaliczeniowego jest implementacja wybranych metod numerycznych
oraz ich weryfikacja na podstawie zdobytej wiedzy oraz prób eksperymentalnych.
Weryfikacja projektu zawiera określenie złożoności obliczeniowej oraz badanie
dokładności rozwiązania w zależności od parametrów.
Implementacja ninejszego projektu została zrealizowana w środowisku \textbf{MATLAB}.
\\
\\
Zasadniczym zagadnieniem projektu jest zbudowanie modelu numerycznego dla procesu chłodzenia
metalowego pręta w pojemniku wypełnionego cieczą (\textit{specjalnym oleju chłodzącym}).
Za pomocą tego modelu należy rozwiązać problem pewnego procesu technologicznego,
który obejmuje konieczność prędkiego schłodzenia sporej ilośći prętów w adekwatnym czasie.s
Zadanie to obejmuje również część optymalizacyjną, polegającą na wyznaczeniu
najkorzystniejszych parametrów dotyczących zbiorników z cieczą chłodzącą
oraz potrzebnych ich ilości w celu zagwarantowania ciągłej pracy.
\\
\\
Przykładem takiego procesu jest zadanie polegające na schłodzeniu 100000 prętów o masie \( m_b \) 0.25 kg
w czasie nieprzekraczającym 24 godzin oraz z optymalnymi kosztami chłodzenia.
Dodatkowymi parametrami w tym procesie to: czas wymiany zbiornika wynoszący 20 sekund,
koszt płynu chłodzącego (20 zł za litr), czas wymiany pręta (5 sekund) oraz koszt jednego zbiornika,
który jest związany z jego pojemnością i wynosi 100 zł za litr.
Cześcią tego zadania inżynierskiego jest określenie ilości pojemników potrzebnych
do działania całego procesu, przy założeniu że słodzenie jednego pojemnika ze 125 \textdegree{}C do 25 \textdegree{}C
trwa 4 godziny.
\\
\\
Obserwacja zmian temperatury pręta \( T_b \) oraz oleju \( T_w \) zostałą użyta do modelowania
fizycznego. Ciepło przenika przez ścianki pręta o powierzchni \( A \) ze stałym eksperymentalnie
określionym współczinnikiem \( A \), który w przeprowadzonych symulacjach przyjmuje wartość: \(0.0109 m^2\).
Materiał, z którego został zbudowany pręt charakteryzuje się pewną zdolnością kumulacji ciepła,
która jest odniesiona do masy pręta \( m_b \) oraz jest opisana za pomocą pojemności cieplnej \( c_p \).
Analogicznia charakterystyka odnosi się do oleju o masie: \( m_w \) oraz pojemności cieplnej: \( c_w \).

\newpage

W \textbf{modelu matematycznym} przyjmujemy założenie, że proces wymiany ciepła
jest opisany następującym układem równań różniczkowych zwyczajnych,
w którym obserwujemy dwie zmiany stanu: temperaturę pręta oraz cieczy:

\begin{flalign*}
	 &\frac{m_b c_b}{hA} \frac{dT_b}{dt} + T_b = T_w \\
	 &\frac{m_w c_w}{hA} \frac{dT_w}{dt} + T_w = T_b
\end{flalign*}

gdzie: \\
\( m_b \) - masa pręta \\
\( c_b \) - pojemność cieplna pręta \\
\( h \) - współczynnik przewodnictwa cieplnego \\
\( A \) -  powierzchnia pręta \\
\( m_w \) - masa płynu chłodzącego \\
\( c_w(T) \) - pojemność cieplna płynu chłodzącego zależna od temperatury T \\
\\
W modelu przyjmujemy założenie, że temperatura pręta oraz oleju jest stała w całej przestrzeni.
Założenie to zakłada, że mamy wysoką wartość współczynnika przewodnictwa cieplnego, równocześnie
zakładamy, że pomijamy to ograniczenie.

\section{Część 1}
\subsection{Wstęp}
Część pierwsza niniejszego projektu zakłada zaprojektowanie
oraz zaimplementowanie symulatora przebiegów czasowych temperatury pręta
oraz oleju chłodzącego.
Przyjęta została temperatura początkowa pręta \( T_b(0) = 1200 \)\textdegree{}C oraz początkową temperaturę
oleju chłodzącego \( T_w(0) = 25 \)\textdegree{}C.
Do znalezienia przybliżonego rozwiązania tego problemu zostanie użyta \textbf{metoda prosta Eulera}
oraz \textbf{metoda ulepszona Eulera}.

\subsubsection{Metoda prosta Eulera}
Zakładając, że istnieje jedyne rozwiązanie problemu początkowego (Cauchy'ego):
\begin{flalign*}
	& y' = f(x, y) \\
	& y(x_0) = y_0
\end{flalign*}
Możemy znaleźć przybliżone rozwiązanie metodą prostą Eulera. \\
\\
Rozwiązanie będzie szukane w przedziale \(<a,b>\), gdzie \( a = x_0\).
Przedział ten jest dzielony na \(n\) części o długości \(h\). \\
Wartości funkcji będącej rozwiązaniem danego zagadnienia będziemy liczyć ze wzoru:
\begin{flalign*}
	y_n = y_{n-1} + hf(x_{n-1}, y_{n-1})
\end{flalign*}

\subsubsection{Metoda ulepszona Eulera}
Zakładając, że istnieje jedyne rozwiązanie problemu początkowego (Cauchy'ego):
\begin{flalign*}
	& y' = f(x, y) \\
	& y(x_0) = y_0
\end{flalign*}
Możemy znaleźć przybliżone rozwiązanie metodą ulepszoną Eulera. \\
\\
Rozwiązanie będzie szukane w przedziale \(<a,b>\), gdzie \( a = x_0\).
Przedział ten jest dzielony na \(n\) części o długości \(h\). \\
Punkty podziału: \\
\(x_n = a + ih \), gdzie \(i = 0,1, ..., n\). \\
Wartości funkcji będącej rozwiązaniem danego zagadnienia będziemy liczyć ze wzoru:
\begin{flalign*}
	y_n = y_{n-1} + hf(x_{n-1} + \frac{h}{2}, y_{n-1} + \frac{h}{2}f(x_{n-1}, y_{n-1}))
\end{flalign*}


\subsection{Podsumowanie współczynników}
Przebiegi czasowe temperatury pręta oraz temperatury oleju chłodzącego zostały przeprowadzone dla poniższych współczynników: \\
\begin{flalign*}
	& h = 160 [\frac{J}{s * m^2}] \\
	& A = 0.0109 [m^2] \\
	& m_b = 0.2 [kg] \\
	& m_w = 2.5 [kg] \\
	& c_b = 3.85 [\frac{J}{kg * K}] \\
	& cw = 4.1813 [\frac{J}{kg * K}] \\
\end{flalign*}

\subsection{Kod źródłowy programu}
Ze względu na reużywalność niektórych funkcji programu w dalszych etapach projektu,
kod źródłowy dla części pierwszej został podzielony na 3 pliki: \\
Plik z funkcją sterującą z danymi parametrami oraz rysującą wykresy
oraz funkcją implementującą \textit{prostą metodę Eulera}:
\lstinputlisting[language=MatLab]{../src/part1.m}
Ulepszona metoda Eulera:
\lstinputlisting[language=MatLab]{../src/improvedEuler.m}
Funkcja wykonująca całkowanie zadanego równania stanu
\lstinputlisting[language=MatLab]{../src/tempModel.m}
\subsection{Interpretacja wyników}

\subsubsection{Krok całkowania h}
Krok całkowania \(h\) został dobrany metodą eksperymentalną z przedziału: 0.001 - 1.

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/krok-h-1.png}
	\caption{Parametry początkowe: krok całkowania \(h = 0.001\), \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}
	\label{fig:krok-1}
\end{figure}

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/krok-h-2.png}
	\caption{Parametry początkowe: krok całkowania \(h = 0.01\), \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}
	\label{fig:krok-2}

	\includegraphics[width=\linewidth]{../assets/krok-h-3.png}
	\caption{Parametry początkowe: krok całkowania \(h = 0.1\), \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}
	\label{fig:krok-3}
\end{figure}

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/krok-h-4.png}
	\caption{Parametry początkowe: krok całkowania \(h = 1\), \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}
	\label{fig:krok-4}
\end{figure}

Dla bardzo małego kroku całkowania \(h\) \textit{nie widać} wyraźnej różnicy między prebiegiem temperatury
obliczonym za pomocą \textbf{metody Eulera}, a tym obliczonym za pomocą \textbf{ulepszonej metody Eulera}.
Jest to widoczne na rysunkach \ref{fig:krok-1} oraz \ref{fig:krok-2}.\\
Na rysunku \ref{fig:krok-3} widać wyraźną różnicę w przebiegu temperatury pręta przy kroku całkowania \(h = 0.1\).
Wykres przebiegu temperatury obliczony za pomocą \textbf{ulepszonej metody Eulera} jest bardziej zbliżony,
do tego, do którego został użyty mniejszy krok całowania w poprzednich próbach eksperymentalnych. \\
Natomiast krok całkowania \(h = 1\) przedstawiony na rysunku \ref{fig:krok-4} okazał się zbyt duży,
aby przebieg temperatury obliczony przez dowolną z tych dwóch funkcji prezentował sensowne dane. \\
Za pomocą tego eksperymentu został wybrany krok całkowania \(h = 0.1\) i właśnie taki będzie używany
w następnych próbach eksperymentalnych. \\
Jednocześnie \textbf{ulepszona metodą Eulera} ze względu na większą dokładność wyników przy większym kroku całkowania
będzie wykorzystywana do symulacji w następnych częściach tego projektu.

\subsubsection{Przebieg czasowy temperatury pręta oraz oleju chłodzącego}

W celu weryfikacji użyte zostały dane uzyskane z eksperymentów technicznych
fizycznych, w których obserwowano tempraturę pręta oraz temperaturę oleju chłodzącego
dla różnych ilości płynu po upływie określonego czasu \(t\) (2,3,4 lub 5 sekund).

\begin{table}
	\begin{tabular}{ |c|c|c|c|c|c|c| }
		\hline
		 Nr pomiaru  & \( T_b(0) \) [\textdegree{}C] &  \( T_w(0) \) [\textdegree{}C] & \(M_w\) [kg] & \(t\)[s] &  \( T_b(t) \) [\textdegree{}C]  & \( T_w(t) \) [\textdegree{}C] \\
		\hline
		 1  & 1200 & 25 & 2.5 & 3 & 107.7 & 105.1  \\
		\hline
		 2  & 800 & 25 & 2.5 & 3 & 79.1 & 78.0  \\
		\hline
		 3  & 1100 & 70 & 2.5 & 3 & 142.1 & 139.1  \\
		\hline
		 4  & 1200 & 25 & 2.5 & 5 & 105.7 & 105.5  \\
		\hline
		 5  & 800 & 25 & 2.5 & 5 & 78.2 & 78.1  \\
		\hline
		 6  & 1100 & 70 & 2.5 & 2 & 150.1 & 138.2  \\
		\hline
		 7  & 1100 & 70 & 5 & 2 & 116.6 & 105.1  \\
		\hline
		 8  & 1100 & 70 & 10 & 2 & 99.1 & 88.1  \\
		\hline
		 9  & 1100 & 70 & 2.5 & 4 & 141.2 & 139.8  \\
		\hline
		 10  & 1100 & 70 & 2.5 & 5 & 140.9 & 140.1  \\
		\hline
	\end{tabular}
	\caption{Pomiary eksperymentowe.}
\end{table}


\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-1.png}
	\caption{Parametry początkowe: \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}

	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-2.png}
	\caption{Parametry początkowe: \(T_b = 800\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}
\end{figure}


\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-3.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 3\)[s]}

	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-4.png}
	\caption{Parametry początkowe: \(T_b = 1200\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 5\)[s]}
\end{figure}

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-5.png}
	\caption{Parametry początkowe: \(T_b = 800\) [\textdegree{}C], \(T_w = 25\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 5\)[s]}

	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-6.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 2\)[s]}
\end{figure}

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-7.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 5\)[kg], \(t = 2\)[s]}

	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-8.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 10\)[kg], \(t = 2\)[s]}
\end{figure}

\begin{figure}[H]
	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-9.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 4\)[s]}

	\includegraphics[width=\linewidth]{../assets/przebieg-czasowy-10.png}
	\caption{Parametry początkowe: \(T_b = 1100\) [\textdegree{}C], \(T_w = 70\)[\textdegree{}C], \(m_w = 2.5\)[kg], \(t = 5\)[s]}
\end{figure}

\section{Część 2}
\subsection{Podsumowanie współczynników}
\subsection{Kod źródłowy programu}
\subsection{Interpretacja wyników}
\section{Część 3}
\subsection{Podsumowanie współczynników}
\subsection{Kod źródłowy programu}
\subsection{Interpretacja wyników}
\section{Część 4}
\subsection{Podsumowanie współczynników}
\subsection{Kod źródłowy programu}
\subsection{Interpretacja wyników}
\section{Analiza rozwiązania}
\end{document}
